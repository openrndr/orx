(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{164:function(e,t,a){e.exports=a(232)},175:function(e,t,a){},177:function(e,t,a){},232:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(16),o=a.n(r),l=(a(169),a(171),a(173),a(175),a(5)),s=a(6),u=a(8),m=a(7),c=a(9),p=(a(177),a(124)),d=a(36),h=a(120),b=a(1),v=a(11),f=function(e){return function(t){var a,i;return i=a=function(a){function i(t){var a;return Object(l.a)(this,i),(a=Object(u.a)(this,Object(m.a)(i).call(this,t))).ignoreReadonly=e?e.ignoreReadonly:void 0,a.handleValue=function(e){var t=a.state.parameter;t instanceof b.ValueParameter?(t.value=e,a.props.onSubmitCb()):t instanceof b.BangParameter&&(t.doBang(),a.props.onSubmitCb()),a.setState({value:e})},a.handleParameterValueChange=function(e){e instanceof b.ValueParameter&&(X.VERBOSE_LOG&&console.log("setting widget value (".concat(e.userid,"): ").concat(e.value)),a.setState({value:e.value}))},a.handleParameterChange=function(e){a.setState({label:e.label,description:e.description,readonly:e.readonly})},a.state={label:a.props.label,value:null,parameter:void 0},a}return Object(c.a)(i,a),Object(s.a)(i,[{key:"componentDidMount",value:function(){this.props.registerElement(this)}},{key:"componentWillUnmount",value:function(){var e=this.state.parameter;e&&this.unregisterParameterHandlers(e),this.props.unregisterElement(this)}},{key:"setParameter",value:function(e){e.userid===this.props.userid?(X.VERBOSE_LOG&&console.log("set parameter for widget (".concat(this.props.userid,")")),this.registerParameterHandlers(e),this.setState({parameter:e,label:e.label,readonly:e.readonly})):console.error("userid mismatch! parameter: ".concat(e.userid," - widget: ").concat(this.props.userid))}},{key:"removeParameter",value:function(e){this.unregisterParameterHandlers(e),this.setState({parameter:void 0})}},{key:"getUserid",value:function(){return this.props.userid}},{key:"render",value:function(){var e=this.state.parameter,a=this.state.readonly;return n.createElement(t,Object.assign({},this.props,this.state,{handleValue:this.handleValue,disabled:!e||!!a&&!(!0===this.ignoreReadonly)}))}},{key:"registerParameterHandlers",value:function(e){e instanceof b.ValueParameter&&(e.addValueChangeListener(this.handleParameterValueChange),this.setState({value:e.value})),e.addChangeListener(this.handleParameterChange)}},{key:"unregisterParameterHandlers",value:function(e){e instanceof b.ValueParameter&&e.removeValueChangedListener(this.handleParameterValueChange),e.removeChangedListener(this.handleParameterChange)}}]),i}(n.Component),a.displayName="ParameterComponentWrapper(".concat(t.displayName||t.name,")"),i}},g=a(235),y=a(55),C=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleClick=function(e){var t=a.props.parameter,n=!1;t&&t.widget&&(n=!!t.widget.needsConfirmation),n?a.handleDialogOpen():a.doSendBang()},a.handleDialogOpen=function(){return a.setState({isOpen:!0})},a.handleDialogConfirm=function(){a.setState({isOpen:!1}),a.doSendBang()},a.handleDialogCancel=function(){return a.setState({isOpen:!1})},a.state={isOpen:!1},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.labelDisabled,t=this.props.label;this.props.parameter&&(t=this.props.parameter.label);var a=this.props,i=(a.onSubmitCb,a.handleValue,Object(v.a)(a,["onSubmitCb","handleValue"]));return n.createElement("section",null,n.createElement(g.b,Object.assign({style:{whiteSpace:"nowrap"}},i,{text:e?"":t,onClick:this.handleClick})),n.createElement(g.a,{className:"bp3-dark ".concat(this.props.className),canEscapeKeyCancel:!0,cancelButtonText:"Cancel",confirmButtonText:"Send",icon:"warning-sign",intent:y.a.DANGER,isOpen:this.state.isOpen,onCancel:this.handleDialogCancel,onConfirm:this.handleDialogConfirm},n.createElement("p",null,this.props.confirmationText?this.props.confirmationText:"text ".concat(t,"?"),n.createElement("br",null),this.props.parameter&&this.props.parameter.description?"(".concat(this.props.parameter.description,")"):"")))}},{key:"doSendBang",value:function(){this.props.handleValue&&this.props.handleValue(null)}}]),t}(n.Component),O=(f()(C),a(39)),S=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.props.handleValue&&a.props.handleValue(e.target.checked),a.props.onSubmitCb&&a.props.onSubmitCb()},a.state={},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t=this.props.value,a=this.props.parameter;a&&(e=a.readonly);var i=this.props,r=(i.onSubmitCb,i.handleValue,Object(v.a)(i,["onSubmitCb","handleValue"]));return n.createElement(g.c,Object.assign({},r,{checked:t||!1,onChange:this.handleChange,disabled:!0===e,alignIndicator:O.a.LEFT,large:!0}))}}]),t}(n.Component),E=(f()(S),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){if(a.props.handleValue){var t=e.target.value;if(a.props.parameter instanceof b.RGBAParameter)for(;t.length<9;)t+="f";a.props.handleValue(t)}a.props.onSubmitCb&&a.props.onSubmitCb()},a.handleSubmit=function(e){e&&e.preventDefault&&e.preventDefault(),a.props.parameter instanceof b.ValueParameter&&(a.props.parameter.setStringValue(a.props.value)?a.props.onSubmitCb&&a.props.onSubmitCb():console.error("could not set stringvalue..."))},a.state={},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t=this.props.value;t.length>7&&(t=t.substr(0,7));var a=this.props.parameter;a&&(e=a.readonly);var i=this.props,r=(i.onSubmitCb,i.handleValue,i.defaultValue,Object(v.a)(i,["onSubmitCb","handleValue","defaultValue"]));return n.createElement(g.h,Object.assign({},r,{value:t,type:"color",onChange:this.handleChange,disabled:!0===e}))}}]),t}(n.Component)),V=(f()(E),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onSubmit=function(){a.props.onSubmitCb&&a.props.onSubmitCb()},a.handleButtonClick=function(){a.setState({isOpen:!a.state.isOpen})},a.state={isOpen:!1},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"renderChildren",value:function(){var e=this,t=this.props.parameter;return void 0===t?"":t.children.sort(function(e,t){return(e.order||0)-(t.order||0)}).map(function(t){return n.createElement(B,{key:t.id,parameter:t,onSubmitCb:e.onSubmit})})}},{key:"render",value:function(){var e="no label",t=this.props.parameter;return t&&void 0!==t.label&&(e=t.label),n.createElement("div",{style:this.props.style},n.createElement(g.e,{style:{marginBottom:this.state.isOpen?5:0},vertical:!1,onClick:this.handleButtonClick},n.createElement(g.g,{icon:this.state.isOpen?"remove":"add"}),n.createElement("div",{style:{marginLeft:10}}),n.createElement(g.p,null,e)),n.createElement(g.d,{isOpen:this.state.isOpen},this.renderChildren()))}}]),t}(n.Component));V.COMPONENT_DEFAULT_COLOR=h.a.GRAY1;f({ignoreReadonly:!0})(V);var x=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.props.handleValue&&a.props.handleValue(e.target.value),a.props.onSubmitCb&&a.props.onSubmitCb()},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t,a=this.props.value,i=this.props.parameter;i&&(e=i.readonly),i instanceof b.EnumParameter&&(t=i.enumDefinition.entries);var r=this.props,o=(r.onSubmitCb,r.handleValue,Object(v.a)(r,["onSubmitCb","handleValue"]));return n.createElement(g.f,Object.assign({},o,{onChange:this.handleChange,disabled:!0===e,className:"test"}),this.renderOptions(a,t))}},{key:"renderOptions",value:function(e,t){if(t)return t.map(function(t){return n.createElement("option",Object.assign({},t===e?"selected":null,{key:t,value:t}),t)})}}]),t}(n.Component),j=(f()(x),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e,t){a.props.handleValue&&a.props.handleValue(e),a.props.onSubmitCb&&a.props.onSubmitCb()},a.state={},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.value,t=1,a=!1,i=!1,r=y.a.NONE,o=this.props.parameter?this.props.parameter.typeDefinition:void 0,l=o?o.typeMin():void 0,s=o?o.typeMax():void 0,u=this.props.parameter;u&&(i=u.readonly||!1,a=u.typeDefinition.datatype===b.RcpTypes.Datatype.FLOAT32||u.typeDefinition.datatype===b.RcpTypes.Datatype.FLOAT64,void 0!==o&&(void 0!==o.minimum&&void 0!==o.maximum&&(o.minimum<o.maximum?(l=o.minimum,s=o.maximum):(console.error("NumberInput: minimum >= maximum"),r=y.a.DANGER)),o.multipleof?t=o.multipleof:a&&(t=.1)));var m=this.props,c=(m.onSubmitCb,m.handleValue,Object(v.a)(m,["onSubmitCb","handleValue"]));return n.createElement(g.i,Object.assign({},c,{value:e||0,min:l,max:s,stepSize:t,minorStepSize:a?.1:1,onValueChange:this.handleChange,disabled:!0===i,selectAllOnFocus:!0,buttonPosition:O.a.RIGHT,placeholder:"-",intent:r}))}}]),t}(n.Component)),R=(f()(j),a(21)),T=a.n(R),w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.props.handleValue&&a.props.handleValue(e),a.props.continuous&&a.handleRelease(e)},a.handleRelease=function(e){a.props.onSubmitCb&&a.props.onSubmitCb()},a.renderLabel=function(e){var t,i=a.props.parameter,r=e.toFixed(2);return i&&(t=i.typeDefinition.unit),n.createElement("div",{style:{whiteSpace:"nowrap"}},t?"".concat(r," ").concat(t):r)},a.state={dimensions:{width:-1,height:-1}},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.value,a=1,i=!1,r=void 0,o=void 0,l=!1,s=this.props.parameter;if(s){l=s.readonly||!1;var u=s.typeDefinition;if(void 0!==u&&void 0!==u.minimum&&void 0!==u.maximum){r=u.minimum,o=u.maximum;var m=u.maximum-u.minimum;i=s.typeDefinition.datatype===b.RcpTypes.Datatype.FLOAT32||s.typeDefinition.datatype===b.RcpTypes.Datatype.FLOAT64,u.multipleof?a=u.multipleof:i&&void 0!==this.state&&void 0!==this.state.dimensions&&(a=m>0&&this.state.dimensions.width>0?m/this.state.dimensions.width:1)}}var c=this.props,p=(c.onSubmitCb,c.handleValue,Object(v.a)(c,["onSubmitCb","handleValue"]));return n.createElement(T.a,{onResize:function(t){e.setState({dimensions:t.entry})}},function(s){var u=s.measureRef;return n.createElement("div",{ref:u},n.createElement(g.m,Object.assign({},p,{value:t||0,min:r,max:o,stepSize:a,labelPrecision:i?2:0,labelStepSize:o,onChange:e.handleChange,onRelease:e.handleRelease,labelRenderer:e.renderLabel,disabled:!0===l})))})}}]),t}(n.Component),D=(f()(w),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.props.handleValue&&a.props.handleValue(e.target.value)},a.handleSubmit=function(e){e&&e.preventDefault&&e.preventDefault(),a.props.parameter instanceof b.ValueParameter&&(a.props.parameter.setStringValue(a.props.value)?a.props.onSubmitCb&&a.props.onSubmitCb():console.error("could not set stringvalue..."))},a.state={},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t=this.props.value,a=this.props.parameter;a&&(e=a.readonly);var i=this.props,r=(i.onSubmitCb,i.handleValue,Object(v.a)(i,["onSubmitCb","handleValue"]));return n.createElement("form",{onSubmit:this.handleSubmit},n.createElement(g.h,Object.assign({},r,{value:t,onChange:this.handleChange,disabled:!0===e})))}}]),t}(n.Component)),z=(f()(D),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.parameter,t=this.props.defaultValue,a=this.props.label;if(e&&(a=e.label),void 0!==this.props.value&&null!==this.props.value&&(t=this.props.value),e instanceof b.NumberParameter){var i=e.typeDefinition;void 0!==this.props.fixedNumber&&(t=this.props.value.toFixed(this.props.fixedNumber)),i.unit&&(t+=" "+e.typeDefinition.unit),i.maximum&&i.minimum&&(e.value<i.minimum||e.value>i.maximum)&&(t="Err")}return n.createElement("section",{style:this.props.style},n.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",margin:"1px 0px 2px 0px"}},n.createElement("div",{style:{width:this.props.labelDisabled?0:this.props.labelWidth?this.props.labelWidth:void 0,color:this.props.disabled?h.a.GRAY1:h.a.LIGHT_GRAY5}},this.props.labelDisabled?"":a),n.createElement("div",{style:{marginLeft:this.props.labelDisabled?0:"6px",background:h.a.DARK_GRAY1,flex:"content",flexGrow:1}},n.createElement("div",{style:{margin:this.props.labelDisabled?0:"0px 0px 0px 6px",color:this.props.disabled?h.a.GRAY1:h.a.LIGHT_GRAY5,whiteSpace:"nowrap"}},t))))}}]),t}(n.Component)),P=(f({ignoreReadonly:!0})(z),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChangeX=function(e){var t=a.props.value.clone();t.x=e,a.props.handleValue&&a.props.handleValue(t),a.props.continuous&&a.handleRelease(0)},a.handleChangeY=function(e){var t=a.props.value.clone();t.y=e,a.props.handleValue&&a.props.handleValue(t),a.props.continuous&&a.handleRelease(0)},a.handleChangeZ=function(e){var t=a.props.value.clone();t.z=e,a.props.handleValue&&a.props.handleValue(t),a.props.continuous&&a.handleRelease(0)},a.handleRelease=function(e){a.props.onSubmitCb&&a.props.onSubmitCb()},a.renderLabel=function(e){var t,i=a.props.parameter,r=e.toFixed(2);return i&&(t=i.typeDefinition.unit),n.createElement("div",{style:{whiteSpace:"nowrap"}},t?"".concat(r," ").concat(t):r)},a.state={dimensions:{width:-1,height:-1}},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.value,a=new b.Vector3(1,1,1),i=!1,r=void 0,o=void 0,l=!1,s=this.props.parameter;if(s){l=s.readonly||!1;var u=s.typeDefinition;if(void 0!==u&&void 0!==u.minimum&&void 0!==u.maximum){r=u.minimum,o=u.maximum;var m=u.maximum.clone().sub(u.minimum);i=s.typeDefinition.datatype===b.RcpTypes.Datatype.VECTOR2F32||s.typeDefinition.datatype===b.RcpTypes.Datatype.VECTOR3F32||s.typeDefinition.datatype===b.RcpTypes.Datatype.VECTOR4F32,u.multipleof?a=u.multipleof:i&&void 0!==this.state&&void 0!==this.state.dimensions&&(a.x=m.x>0&&this.state.dimensions.width>0?m.x/this.state.dimensions.width:1,a.y=m.y>0&&this.state.dimensions.width>0?m.y/this.state.dimensions.width:1,a.z=m.z>0&&this.state.dimensions.width>0?m.z/this.state.dimensions.width:1)}}var c=this.props,p=(c.onSubmitCb,c.handleValue,Object(v.a)(c,["onSubmitCb","handleValue"]));return n.createElement(T.a,{onResize:function(t){e.setState({dimensions:t.entry})}},function(s){var u=s.measureRef;return n.createElement("div",{ref:u},n.createElement(g.m,Object.assign({},p,{value:t?t.x:0,min:r?r.x:void 0,max:o?o.x:void 0,stepSize:a.x,labelPrecision:i?2:0,labelStepSize:o?o.x:0,onChange:e.handleChangeX,onRelease:e.handleRelease,labelRenderer:e.renderLabel,disabled:!0===l})),n.createElement(g.m,Object.assign({},p,{value:t?t.y:0,min:r?r.y:void 0,max:o?o.y:void 0,stepSize:a.y,labelPrecision:i?2:0,labelStepSize:o?o.y:0,onChange:e.handleChangeY,onRelease:e.handleRelease,labelRenderer:e.renderLabel,disabled:!0===l})),n.createElement(g.m,Object.assign({},p,{value:t?t.z:0,min:r?r.z:void 0,max:o?o.z:void 0,stepSize:a.z,labelPrecision:i?2:0,labelStepSize:o?o.z:0,onChange:e.handleChangeZ,onRelease:e.handleRelease,labelRenderer:e.renderLabel,disabled:!0===l})))})}}]),t}(n.Component)),k=(f()(P),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChangeX=function(e,t){var n=a.props.value.clone();n.x=e,a.props.handleValue&&a.props.handleValue(n),a.props.onSubmitCb&&a.props.onSubmitCb()},a.handleChangeY=function(e,t){var n=a.props.value.clone();n.y=e,a.props.handleValue&&a.props.handleValue(n),a.props.onSubmitCb&&a.props.onSubmitCb()},a.handleChangeZ=function(e,t){var n=a.props.value.clone();n.z=e,a.props.handleValue&&a.props.handleValue(n),a.props.onSubmitCb&&a.props.onSubmitCb()},a.state={},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.value,t=new b.Vector3(1,1,1),a=!1,i=void 0,r=void 0,o=!1,l=y.a.NONE,s=this.props.parameter;if(s){o=s.readonly||!1,a=s.typeDefinition.datatype===b.RcpTypes.Datatype.VECTOR2F32||s.typeDefinition.datatype===b.RcpTypes.Datatype.VECTOR3F32||s.typeDefinition.datatype===b.RcpTypes.Datatype.VECTOR4F32;var u=s.typeDefinition;void 0!==u&&(void 0!==u.minimum&&void 0!==u.maximum&&(u.minimum.x<u.maximum.x&&u.minimum.y<u.maximum.y&&u.minimum.z<u.maximum.z?(i=u.minimum,r=u.maximum):(console.error("NumberInput: minimum >= maximum"),l=y.a.DANGER)),u.multipleof?t=u.multipleof:a&&(t.x=.1,t.y=.1,t.z=.1))}var m=this.props,c=(m.onSubmitCb,m.handleValue,Object(v.a)(m,["onSubmitCb","handleValue"]));return n.createElement("div",null,n.createElement(g.i,Object.assign({},c,{value:e?e.x:0,min:i?i.x:void 0,max:r?r.x:void 0,stepSize:t.x,minorStepSize:a?.1:1,onValueChange:this.handleChangeX,disabled:!0===o,selectAllOnFocus:!0,buttonPosition:O.a.RIGHT,placeholder:"-",intent:l})),n.createElement(g.i,Object.assign({},c,{value:e?e.y:0,min:i?i.y:void 0,max:r?r.y:void 0,stepSize:t.y,minorStepSize:a?.1:1,onValueChange:this.handleChangeY,disabled:!0===o,selectAllOnFocus:!0,buttonPosition:O.a.RIGHT,placeholder:"-",intent:l})),n.createElement(g.i,Object.assign({},c,{value:e?e.z:0,min:i?i.z:void 0,max:r?r.z:void 0,stepSize:t.z,minorStepSize:a?.1:1,onValueChange:this.handleChangeZ,disabled:!0===o,selectAllOnFocus:!0,buttonPosition:O.a.RIGHT,placeholder:"-",intent:l})))}}]),t}(n.Component)),N=(f()(k),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChangeX=function(e){var t=a.props.value.clone();t.x=e,a.props.handleValue&&a.props.handleValue(t),a.props.continuous&&a.handleRelease(0)},a.handleChangeY=function(e){var t=a.props.value.clone();t.y=e,a.props.handleValue&&a.props.handleValue(t),a.props.continuous&&a.handleRelease(0)},a.handleRelease=function(e){a.props.onSubmitCb&&a.props.onSubmitCb()},a.renderLabel=function(e){var t,i=a.props.parameter,r=e.toFixed(2);return i&&(t=i.typeDefinition.unit),n.createElement("div",{style:{whiteSpace:"nowrap"}},t?"".concat(r," ").concat(t):r)},a.state={dimensions:{width:-1,height:-1}},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.value,a=new b.Vector2(1,1),i=!1,r=void 0,o=void 0,l=!1,s=this.props.parameter;if(s){l=s.readonly||!1;var u=s.typeDefinition;if(void 0!==u&&void 0!==u.minimum&&void 0!==u.maximum){r=u.minimum,o=u.maximum;var m=u.maximum.clone().sub(u.minimum);i=s.typeDefinition.datatype===b.RcpTypes.Datatype.VECTOR2F32||s.typeDefinition.datatype===b.RcpTypes.Datatype.VECTOR3F32||s.typeDefinition.datatype===b.RcpTypes.Datatype.VECTOR4F32,u.multipleof?a=u.multipleof:i&&void 0!==this.state&&void 0!==this.state.dimensions&&(a.x=m.x>0&&this.state.dimensions.width>0?m.x/this.state.dimensions.width:1,a.y=m.y>0&&this.state.dimensions.width>0?m.y/this.state.dimensions.width:1)}}var c=this.props,p=(c.onSubmitCb,c.handleValue,Object(v.a)(c,["onSubmitCb","handleValue"]));return n.createElement(T.a,{onResize:function(t){e.setState({dimensions:t.entry})}},function(s){var u=s.measureRef;return n.createElement("div",{ref:u},n.createElement(g.m,Object.assign({},p,{value:t?t.x:0,min:r?r.x:void 0,max:o?o.x:void 0,stepSize:a.x,labelPrecision:i?2:0,labelStepSize:o?o.x:0,onChange:e.handleChangeX,onRelease:e.handleRelease,labelRenderer:e.renderLabel,disabled:!0===l})),n.createElement(g.m,Object.assign({},p,{value:t?t.y:0,min:r?r.y:void 0,max:o?o.y:void 0,stepSize:a.y,labelPrecision:i?2:0,labelStepSize:o?o.y:0,onChange:e.handleChangeY,onRelease:e.handleRelease,labelRenderer:e.renderLabel,disabled:!0===l})))})}}]),t}(n.Component)),A=(f()(N),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChangeX=function(e,t){var n=a.props.value.clone();n.x=e,a.props.handleValue&&a.props.handleValue(n),a.props.onSubmitCb&&a.props.onSubmitCb()},a.handleChangeY=function(e,t){var n=a.props.value.clone();n.y=e,a.props.handleValue&&a.props.handleValue(n),a.props.onSubmitCb&&a.props.onSubmitCb()},a.state={},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.value,t=new b.Vector2(1,1),a=!1,i=void 0,r=void 0,o=!1,l=y.a.NONE,s=this.props.parameter;if(s){o=s.readonly||!1,a=s.typeDefinition.datatype===b.RcpTypes.Datatype.VECTOR2F32||s.typeDefinition.datatype===b.RcpTypes.Datatype.VECTOR3F32||s.typeDefinition.datatype===b.RcpTypes.Datatype.VECTOR4F32;var u=s.typeDefinition;void 0!==u&&(void 0!==u.minimum&&void 0!==u.maximum&&(u.minimum.x<u.maximum.x&&u.minimum.y<u.maximum.y?(i=u.minimum,r=u.maximum):(console.error("NumberInput: minimum >= maximum"),l=y.a.DANGER)),u.multipleof?t=u.multipleof:a&&(t.x=.1,t.y=.1))}var m=this.props,c=(m.onSubmitCb,m.handleValue,Object(v.a)(m,["onSubmitCb","handleValue"]));return n.createElement("div",null,n.createElement(g.i,Object.assign({},c,{value:e?e.x:0,min:i?i.x:void 0,max:r?r.x:void 0,stepSize:t.x,minorStepSize:a?.1:1,onValueChange:this.handleChangeX,disabled:!0===o,selectAllOnFocus:!0,buttonPosition:O.a.RIGHT,placeholder:"-",intent:l})),n.createElement(g.i,Object.assign({},c,{value:e?e.y:0,min:i?i.y:void 0,max:r?r.y:void 0,stepSize:t.y,minorStepSize:a?.1:1,onValueChange:this.handleChangeY,disabled:!0===o,selectAllOnFocus:!0,buttonPosition:O.a.RIGHT,placeholder:"-",intent:l})))}}]),t}(n.Component)),I=(f()(A),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChangeX=function(e){var t=a.props.value.clone();t.x=e,a.props.handleValue&&a.props.handleValue(t),a.props.continuous&&a.handleRelease(0)},a.handleChangeY=function(e){var t=a.props.value.clone();t.y=e,a.props.handleValue&&a.props.handleValue(t),a.props.continuous&&a.handleRelease(0)},a.handleChangeZ=function(e){var t=a.props.value.clone();t.z=e,a.props.handleValue&&a.props.handleValue(t),a.props.continuous&&a.handleRelease(0)},a.handleChangeT=function(e){var t=a.props.value.clone();t.t=e,a.props.handleValue&&a.props.handleValue(t),a.props.continuous&&a.handleRelease(0)},a.handleRelease=function(e){a.props.onSubmitCb&&a.props.onSubmitCb()},a.renderLabel=function(e){var t,i=a.props.parameter,r=e.toFixed(2);return i&&(t=i.typeDefinition.unit),n.createElement("div",{style:{whiteSpace:"nowrap"}},t?"".concat(r," ").concat(t):r)},a.state={dimensions:{width:-1,height:-1}},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.value,a=new b.Vector4(1,1,1,1),i=!1,r=void 0,o=void 0,l=!1,s=this.props.parameter;if(s){l=s.readonly||!1;var u=s.typeDefinition;if(void 0!==u&&void 0!==u.minimum&&void 0!==u.maximum){r=u.minimum,o=u.maximum;var m=u.maximum.clone().sub(u.minimum);i=s.typeDefinition.datatype===b.RcpTypes.Datatype.VECTOR2F32||s.typeDefinition.datatype===b.RcpTypes.Datatype.VECTOR3F32||s.typeDefinition.datatype===b.RcpTypes.Datatype.VECTOR4F32,u.multipleof?a=u.multipleof:i&&void 0!==this.state&&void 0!==this.state.dimensions&&(a.x=m.x>0&&this.state.dimensions.width>0?m.x/this.state.dimensions.width:1,a.y=m.y>0&&this.state.dimensions.width>0?m.y/this.state.dimensions.width:1,a.z=m.z>0&&this.state.dimensions.width>0?m.z/this.state.dimensions.width:1,a.t=m.t>0&&this.state.dimensions.width>0?m.t/this.state.dimensions.width:1)}}var c=this.props,p=(c.onSubmitCb,c.handleValue,Object(v.a)(c,["onSubmitCb","handleValue"]));return n.createElement(T.a,{onResize:function(t){e.setState({dimensions:t.entry})}},function(s){var u=s.measureRef;return n.createElement("div",{ref:u},n.createElement(g.m,Object.assign({},p,{value:t?t.x:0,min:r?r.x:void 0,max:o?o.x:void 0,stepSize:a.x,labelPrecision:i?2:0,labelStepSize:o?o.x:0,onChange:e.handleChangeX,onRelease:e.handleRelease,labelRenderer:e.renderLabel,disabled:!0===l})),n.createElement(g.m,Object.assign({},p,{value:t?t.y:0,min:r?r.y:void 0,max:o?o.y:void 0,stepSize:a.y,labelPrecision:i?2:0,labelStepSize:o?o.y:0,onChange:e.handleChangeY,onRelease:e.handleRelease,labelRenderer:e.renderLabel,disabled:!0===l})),n.createElement(g.m,Object.assign({},p,{value:t?t.z:0,min:r?r.z:void 0,max:o?o.z:void 0,stepSize:a.z,labelPrecision:i?2:0,labelStepSize:o?o.z:0,onChange:e.handleChangeZ,onRelease:e.handleRelease,labelRenderer:e.renderLabel,disabled:!0===l})),n.createElement(g.m,Object.assign({},p,{value:t?t.t:0,min:r?r.t:void 0,max:o?o.t:void 0,stepSize:a.t,labelPrecision:i?2:0,labelStepSize:o?o.t:0,onChange:e.handleChangeT,onRelease:e.handleRelease,labelRenderer:e.renderLabel,disabled:!0===l})))})}}]),t}(n.Component)),L=(f()(I),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChangeX=function(e,t){var n=a.props.value.clone();n.x=e,a.props.handleValue&&a.props.handleValue(n),a.props.onSubmitCb&&a.props.onSubmitCb()},a.handleChangeY=function(e,t){var n=a.props.value.clone();n.y=e,a.props.handleValue&&a.props.handleValue(n),a.props.onSubmitCb&&a.props.onSubmitCb()},a.handleChangeZ=function(e,t){var n=a.props.value.clone();n.z=e,a.props.handleValue&&a.props.handleValue(n),a.props.onSubmitCb&&a.props.onSubmitCb()},a.handleChangeT=function(e,t){var n=a.props.value.clone();n.t=e,a.props.handleValue&&a.props.handleValue(n),a.props.onSubmitCb&&a.props.onSubmitCb()},a.state={},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.value,t=new b.Vector4(1,1,1,1),a=!1,i=void 0,r=void 0,o=!1,l=y.a.NONE,s=this.props.parameter;if(s){o=s.readonly||!1,a=s.typeDefinition.datatype===b.RcpTypes.Datatype.VECTOR2F32||s.typeDefinition.datatype===b.RcpTypes.Datatype.VECTOR3F32||s.typeDefinition.datatype===b.RcpTypes.Datatype.VECTOR4F32;var u=s.typeDefinition;void 0!==u&&(void 0!==u.minimum&&void 0!==u.maximum&&(u.minimum.x<u.maximum.x&&u.minimum.y<u.maximum.y&&u.minimum.z<u.maximum.z&&u.minimum.t<u.maximum.t?(i=u.minimum,r=u.maximum):(console.error("NumberInput: minimum >= maximum"),l=y.a.DANGER)),u.multipleof?t=u.multipleof:a&&(t.x=.1,t.y=.1,t.z=.1,t.t=.1))}var m=this.props,c=(m.onSubmitCb,m.handleValue,Object(v.a)(m,["onSubmitCb","handleValue"]));return n.createElement("div",null,n.createElement(g.i,Object.assign({},c,{value:e?e.x:0,min:i?i.x:void 0,max:r?r.x:void 0,stepSize:t.x,minorStepSize:a?.1:1,onValueChange:this.handleChangeX,disabled:!0===o,selectAllOnFocus:!0,buttonPosition:O.a.RIGHT,placeholder:"-",intent:l})),n.createElement(g.i,Object.assign({},c,{value:e?e.y:0,min:i?i.y:void 0,max:r?r.y:void 0,stepSize:t.y,minorStepSize:a?.1:1,onValueChange:this.handleChangeY,disabled:!0===o,selectAllOnFocus:!0,buttonPosition:O.a.RIGHT,placeholder:"-",intent:l})),n.createElement(g.i,Object.assign({},c,{value:e?e.z:0,min:i?i.z:void 0,max:r?r.z:void 0,stepSize:t.z,minorStepSize:a?.1:1,onValueChange:this.handleChangeZ,disabled:!0===o,selectAllOnFocus:!0,buttonPosition:O.a.RIGHT,placeholder:"-",intent:l})),n.createElement(g.i,Object.assign({},c,{value:e?e.t:0,min:i?i.t:void 0,max:r?r.t:void 0,stepSize:t.t,minorStepSize:a?.1:1,onValueChange:this.handleChangeT,disabled:!0===o,selectAllOnFocus:!0,buttonPosition:O.a.RIGHT,placeholder:"-",intent:l})))}}]),t}(n.Component)),W=(f()(L),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.props.handleValue&&a.props.handleValue(new b.Range(e[0],e[1])),a.props.continuous&&a.handleRelease(e)},a.handleRelease=function(e){a.props.onSubmitCb&&a.props.onSubmitCb()},a.renderLabel=function(e){var t,i=a.props.parameter,r=e.toFixed(2);return i&&(t=i.typeDefinition.unit),n.createElement("div",{style:{whiteSpace:"nowrap"}},t?"".concat(r," ").concat(t):r)},a.state={dimensions:{width:-1,height:-1}},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.value,a=1,i=!1,r=void 0,o=void 0,l=!1,s=this.props.parameter;if(s){l=s.readonly||!1;var u=s.typeDefinition,m=u.elementType;if(void 0!==u&&void 0!==m.minimum&&void 0!==m.maximum){r=m.minimum;var c=(o=m.maximum)-r;i=s.typeDefinition.datatype===b.RcpTypes.Datatype.FLOAT32||s.typeDefinition.datatype===b.RcpTypes.Datatype.FLOAT64,m.multipleof?a=m.multipleof:i&&void 0!==this.state&&void 0!==this.state.dimensions&&(a=c>0&&this.state.dimensions.width>0?c/this.state.dimensions.width:1)}}var p=this.props,d=(p.onSubmitCb,p.handleValue,Object(v.a)(p,["onSubmitCb","handleValue"]));return n.createElement(T.a,{onResize:function(t){e.setState({dimensions:t.entry})}},function(s){var u=s.measureRef;return n.createElement("div",{ref:u},n.createElement(g.l,Object.assign({},d,{value:t?[t.value1,t.value2]:[0,1],min:r,max:o,stepSize:a,labelPrecision:i?2:0,labelStepSize:o,onChange:e.handleChange,onRelease:e.handleRelease,labelRenderer:e.renderLabel,disabled:!0===l})))})}}]),t}(n.Component)),G=(f()(W),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleTabChange=function(e){a.setState({navbarTabId:e})},a.onSubmit=function(){a.props.onSubmitCb&&a.props.onSubmitCb()},a.state={navbarTabId:0},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"createChildWidgets",value:function(e){var t=this;return e.widget instanceof b.TabsWidget?n.createElement(B,{key:"_"+e.id,parameter:e,onSubmitCb:this.onSubmit}):e.children.filter(function(e){var t=e instanceof b.GroupParameter,a=!1,n=!1;return t&&(a=e.widget instanceof b.TabsWidget),void 0!==e.parent&&(n=e.parent.widget instanceof b.TabsWidget),!t||!n&&!a}).sort(function(e,t){return(e.order||0)-(t.order||0)}).map(function(e){return n.createElement(B,{key:e.id,parameter:e,onSubmitCb:t.onSubmit})})}},{key:"renderChildren",value:function(){var e=this,t=this.props.parameter;return void 0!==t?t.children.filter(function(e){return!(e instanceof b.GroupParameter)}).sort(function(e,t){return(e.order||0)-(t.order||0)}).map(function(t){return n.createElement(B,{key:t.id,parameter:t,onSubmitCb:e.onSubmit})}):""}},{key:"createTabWidgets",value:function(e){var t=this;return void 0===e?"":e.filter(function(e){return e instanceof b.GroupParameter}).sort(function(e,t){return(e.order||0)-(t.order||0)}).map(function(e,a){var i=e;return 0===t.state.navbarTabId&&0===a&&void 0!==e.label&&t.setState({navbarTabId:e.label}),n.createElement(g.n,{key:"tab_"+e.id,id:e.label,title:e.label,panel:n.createElement("div",null,n.createElement("div",{className:"inner",style:{border:"1px solid #454545",background:"transparent"}},t.createChildWidgets(i)),i.children.length>0?n.createElement("div",null,n.createElement("hr",{style:{borderTop:"1px solid gray"}}),t.renderChildren()):"")})})}},{key:"render",value:function(){var e=this.props.parameter;return e&&void 0!==e.label&&e.label,n.createElement("div",{style:this.props.style},n.createElement(g.o,{id:"navbar",renderActiveTabPanelOnly:!0,onChange:this.handleTabChange,selectedTabId:this.state.navbarTabId},this.createTabWidgets(this.props.parameter.children)))}}]),t}(n.Component));G.COMPONENT_DEFAULT_COLOR=h.a.GRAY1;f({ignoreReadonly:!0})(G);var F=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){console.log("radio changed: "+e.target.value),a.props.handleValue&&a.props.handleValue(e.target.value),a.props.onSubmitCb&&a.props.onSubmitCb()},console.log("create radio parameter"),a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t,a=this.props.value,i=this.props.parameter;i&&(e=i.readonly),i instanceof b.EnumParameter&&(t=i.enumDefinition.entries,i.enumDefinition.multiselect);var r=this.props,o=(r.onSubmitCb,r.handleValue,Object(v.a)(r,["onSubmitCb","handleValue"]));return n.createElement(g.k,Object.assign({},o,{onChange:this.handleChange,disabled:!0===e,selectedValue:a}),this.renderOptions(a,t))}},{key:"renderOptions",value:function(e,t){if(t)return t.map(function(e){return n.createElement(g.j,{key:e,label:e,value:e})})}}]),t}(n.Component),B=(f()(F),function(e){function t(e){var a,n;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).getWidth=function(){return 1},a.handleValueChange=function(e){a.props.parameter instanceof b.ValueParameter&&(a.props.parameter.value=e),a.setState({value:e})},a.handleValueSubmit=function(e){e&&e.preventDefault&&e.preventDefault(),a.props.parameter instanceof b.ValueParameter&&(a.props.parameter.setStringValue(a.state.value)?a.props.onSubmitCb():(console.error("could not set stringvalue..."),a.setState({value:a.props.parameter.valueConstrained()})))},a.handleButtonClick=function(){a.props.parameter.setDirty(),a.props.onSubmitCb()},a.props.parameter instanceof b.ValueParameter&&null!=a.props.parameter.value&&(n=a.props.parameter.valueConstrained()),a.state={enabled:!0,label:a.props.parameter.label,description:a.props.parameter.description,value:n,dimensions:{width:-1,height:-1}},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.parameter;t instanceof b.ValueParameter&&t.addValueChangeListener(function(t){t instanceof b.ValueParameter&&e.setState({value:t.valueConstrained()})}),t.addChangeListener(function(t){e.setState({label:t.label,description:t.description})})}},{key:"renderValue",value:function(e){var t=e.widget;if(t instanceof b.SliderWidget?console.log("SLIDER WIDGET"):t instanceof b.NumberboxWidget&&console.log("NUMBERBOX WIDGET"),e instanceof b.ValueParameter){if(e instanceof b.NumberParameter){var a=e.typeDefinition;return t instanceof b.NumberboxWidget||void 0===a||void 0===a.minimum||void 0===a.maximum?n.createElement("div",null,n.createElement("div",{className:"parameter-label"},e.label),n.createElement(j,Object.assign({},this.props,{value:this.state.value,handleValue:this.handleValueChange}))):a.minimum<a.maximum?n.createElement("div",null,n.createElement("div",{className:"parameter-label"},e.label),n.createElement(w,Object.assign({},this.props,{value:this.state.value,handleValue:this.handleValueChange,continuous:!0}))):(console.error("ParameterWidget: minimum >= maximum"),this.defaultWidget())}if(e instanceof b.Vector2F32Parameter||e instanceof b.Vector2I32Parameter){var i=e.typeDefinition;return t instanceof b.NumberboxWidget||void 0===i||void 0===i.minimum||void 0===i.maximum?n.createElement("div",null,n.createElement("div",{className:"parameter-label"},e.label),n.createElement(A,Object.assign({},this.props,{value:this.state.value,handleValue:this.handleValueChange}))):i.minimum.x<i.maximum.x&&i.minimum.y<i.maximum.y?n.createElement("div",null,n.createElement("div",{className:"parameter-label"},e.label),n.createElement(N,Object.assign({},this.props,{value:this.state.value,handleValue:this.handleValueChange,continuous:!0}))):(console.error("ParameterWidget: minimum >= maximum"),this.defaultWidget())}if(e instanceof b.Vector3F32Parameter||e instanceof b.Vector3I32Parameter){var r=e.typeDefinition;return t instanceof b.NumberboxWidget||void 0===r||void 0===r.minimum||void 0===r.maximum?n.createElement("div",null,n.createElement("div",{className:"parameter-label"},e.label),n.createElement(k,Object.assign({},this.props,{value:this.state.value,handleValue:this.handleValueChange}))):r.minimum.x<r.maximum.x&&r.minimum.y<r.maximum.y&&r.minimum.z<r.maximum.z?n.createElement("div",null,n.createElement("div",{className:"parameter-label"},e.label),n.createElement(P,Object.assign({},this.props,{value:this.state.value,handleValue:this.handleValueChange,continuous:!0}))):(console.error("ParameterWidget: minimum >= maximum"),this.defaultWidget())}if(e instanceof b.Vector4F32Parameter||e instanceof b.Vector4I32Parameter){var o=e.typeDefinition;return t instanceof b.NumberboxWidget||void 0===o||void 0===o.minimum||void 0===o.maximum?n.createElement("div",null,n.createElement("div",{className:"parameter-label"},e.label),n.createElement(L,Object.assign({},this.props,{value:this.state.value,handleValue:this.handleValueChange}))):o.minimum.x<o.maximum.x&&o.minimum.y<o.maximum.y&&o.minimum.z<o.maximum.z&&o.minimum.t<o.maximum.t?n.createElement("div",null,n.createElement("div",{className:"parameter-label"},e.label),n.createElement(I,Object.assign({},this.props,{value:this.state.value,handleValue:this.handleValueChange,continuous:!0}))):(console.error("ParameterWidget: minimum >= maximum"),this.defaultWidget())}if(e instanceof b.BooleanParameter)return n.createElement("div",null,n.createElement("div",{className:"parameter-label"},e.label),n.createElement(S,Object.assign({},this.props,{value:this.state.value,handleValue:this.handleValueChange})));if(e instanceof b.RGBAParameter||e instanceof b.RGBParameter)return n.createElement("div",null,n.createElement("div",{className:"parameter-label"},e.label),n.createElement(E,Object.assign({},this.props,{value:this.state.value,handleValue:this.handleValueChange})));if(e instanceof b.EnumParameter)return e.widget instanceof b.RadiobuttonWidget?n.createElement("div",null,n.createElement("div",{className:"parameter-label",style:{marginBottom:15}},e.label),n.createElement(F,Object.assign({},this.props,{value:this.state.value,handleValue:this.handleValueChange}))):n.createElement("div",null,n.createElement("div",{className:"parameter-label"},e.label),n.createElement(x,Object.assign({},this.props,{value:this.state.value,handleValue:this.handleValueChange})));if(e instanceof b.ImageParameter){var l=new Blob([e.value]),s=window.URL.createObjectURL(l);return n.createElement("div",null,n.createElement("div",{className:"parameter-label"},e.label),n.createElement("img",{src:s,alt:"IMAGE",height:200}))}if(e instanceof b.RangeParameter){e.value;return n.createElement("div",null,n.createElement("div",{className:"parameter-label"},e.label),n.createElement(W,Object.assign({},this.props,{value:this.state.value,handleValue:this.handleValueChange})))}return n.createElement("div",null,n.createElement("div",{className:"parameter-label"},e.label),n.createElement(D,Object.assign({},this.props,{value:this.state.value,handleValue:this.handleValueChange})))}return e instanceof b.BangParameter?n.createElement(C,Object.assign({},this.props,{value:this.state.value,handleValue:this.handleButtonClick})):e instanceof b.GroupParameter?e.widget instanceof b.TabsWidget?n.createElement(G,Object.assign({},this.props,{value:this.state.value,handleValue:this.handleValueChange})):(e.widget instanceof b.ListWidget||(e.widget,b.ListPageWidget),n.createElement(V,Object.assign({},this.props,{value:this.state.value,handleValue:this.handleValueChange}))):void 0}},{key:"render",value:function(){var e=this.props.parameter;return e?e.widget instanceof b.TabsWidget?n.createElement("div",{className:"parameter-wrapper"},this.renderValue(e)):n.createElement("div",{className:"parameter-wrapper"},n.createElement("div",{className:"inner",style:{border:e instanceof b.GroupParameter?"1px solid #454545":"1px solid #353535",background:e instanceof b.GroupParameter?"transparent":h.a.DARK_GRAY3}},this.renderValue(e))):(console.error("no parameter"),n.createElement("div",null,"no parameter"))}},{key:"defaultWidget",value:function(){return n.createElement(z,Object.assign({},this.props,{value:this.state.value.toString()}))}}]),t}(n.Component)),Y="Connecting to unsecure websocket from secure context. You may need to adjust your browser settings.",H=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){if(""!==location.hash){var e=location.hash.replace("#","").split(":"),t=Object(p.a)(e,2),n=t[0],i=t[1],r=parseInt(i,10);console.log("autoconnect: "+n+":"+r),a.doConnect(n,r)}},a.updateClient=function(){a.state.client&&a.state.client.update()},a.setHost=function(e){a.setState({host:e.currentTarget.value})},a.setPort=function(e){a.setState({port:parseInt(e.currentTarget.value,10)})},a.setTabsInRoot=function(e){a.setState({rootWithTabs:e.target.checked})},a.handleAlertConfirm=function(){a.setState({error:void 0}),a.doConnect(a.state.host,a.state.port)},a.doDisconnect=function(){var e=a.state.client;e&&(e.connected=void 0,e.disconnected=void 0,e.onError=void 0,e.parameterAdded=void 0,e.parameterRemoved=void 0,e.dispose()),a.resetUI()},a.doConnect=function(e,t){if(void 0!==e&&""!==e&&!isNaN(t)){a.doDisconnect(),a.setState({host:e,port:t,error:void 0});var n=new b.Client(new b.WebSocketClientTransporter);n.setRootWidget(new b.TabsWidget);var i=Object(d.a)(Object(d.a)(a)),r=i.connected,o=i.disconnected,l=i.parameterAdded,s=i.parameterRemoved,u=i.onError,m=i.onServerInfo;Object.assign(n,{connected:r,disconnected:o,parameterAdded:l,parameterRemoved:s,onError:u,onServerInfo:m});try{n.connect(e,t),a.setState({client:n})}catch(c){console.log(c)}}},a.connected=function(){a.setState({isConnected:!0}),console.log("ConnectionDialog connected!")},a.disconnected=function(e){console.log("ConnectionDialog disconneted: "+JSON.stringify(e)),a.setState({error:"disconnected".concat(e.reason?": "+JSON.stringify(e.reason):"")}),a.resetUI()},a.onError=function(e){e instanceof Error?console.error(e.message):(a.setState({error:e.toString()}),a.resetUI())},a.onServerInfo=function(e,t){a.setState({serverVersion:e,serverApplicationId:t})},a.parameterChangeListener=function(e){e.onlyValueChanged()||(void 0!==e.parent?console.log("parameter changed: "+e.parent.label):e.parentChanged()?a.state.client&&a.setState({parameters:a.state.client.getRootGroup().children}):console.log("paraemter changed: no parent"),a.forceUpdate())},a.parameterAdded=function(e){e.addChangeListener(a.parameterChangeListener),void 0!==a.addTimer&&(window.clearTimeout(a.addTimer),a.addTimer=void 0),a.addTimer=window.setTimeout(function(){a.state.client&&a.setState({parameters:a.state.client.getRootGroup().children})},100)},a.parameterRemoved=function(e){e.removeFromParent(),e.removeChangedListener(a.parameterChangeListener),void 0!==a.removeTimer&&(window.clearTimeout(a.removeTimer),a.removeTimer=void 0),a.removeTimer=window.setTimeout(function(){a.state.client&&a.setState({parameters:a.state.client.getRootGroup().children})},100)},a.state={isConnected:!1,host:"localhost",port:1e4,parameters:[],serverVersion:"",serverApplicationId:"",rootWithTabs:!1},b.Client.VERBOSE=!0,a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"createParameterWidget",value:function(e){return n.createElement(B,{key:e.id,parameter:e,onSubmitCb:this.updateClient})}},{key:"createWidgets",value:function(e){var t=this;return e.filter(function(e){return!1===t.state.rootWithTabs||!(e instanceof b.GroupParameter)}).sort(function(e,t){return(e.order||0)-(t.order||0)}).map(function(e){return t.createParameterWidget(e)})}},{key:"render",value:function(){return n.createElement("section",null,n.createElement("div",{className:"rootgroup-wrapper"},this.state.client?!0===this.state.rootWithTabs?n.createElement(B,{key:0,parameter:this.state.client.getRootGroup(),onSubmitCb:this.updateClient}):this.createWidgets(this.state.parameters):""),n.createElement("div",{className:"serverid",style:{color:h.a.GRAY1}},""!==this.state.serverApplicationId?"connected to: ".concat(this.state.serverApplicationId," - "):"",""!==this.state.serverVersion?"rcp: ".concat(this.state.serverVersion):""),n.createElement(g.a,{className:"bp3-dark",confirmButtonText:"Connect",icon:"offline",intent:y.a.NONE,isOpen:!0!==this.state.isConnected,onConfirm:this.handleAlertConfirm},n.createElement(g.p,null,n.createElement("strong",null,"Connect to a RabbitControl server")),n.createElement("br",null),n.createElement("br",null),n.createElement(g.e,{style:{alignItems:"center"}},n.createElement(g.p,null,"Host:\xa0"),n.createElement(g.h,{value:this.state.host,type:"text",onChange:this.setHost})),n.createElement("br",null),n.createElement(g.e,{style:{alignItems:"center"}},n.createElement(g.p,null,"Port:\xa0"),n.createElement(g.h,{value:this.state.port.toFixed(0),min:1024,max:65535,type:"number",onChange:this.setPort})),n.createElement("br",null),n.createElement(g.c,{checked:this.state.rootWithTabs,onChange:this.setTabsInRoot},"Tabs in Root"),n.createElement("div",null,this.state.error?this.state.error:void 0,this.returnSSLInfo())))}},{key:"returnSSLInfo",value:function(){var e=!!document.location&&document.location.toString().startsWith("https"),t=-1!=navigator.userAgent.indexOf("Firefox");return e&&t?n.createElement("div",null,n.createElement("br",null),Y,n.createElement("br",null),n.createElement("br",null),"To allow this please set: 'network.websocket.allowInsecureFromHTTPS' in 'about:config' to 'true'."):e?n.createElement("div",null,n.createElement("br",null),Y):void 0}},{key:"resetUI",value:function(){console.log("reset UI"),this.stopTimers(),this.setState({isConnected:!1,client:void 0,parameters:[],serverVersion:"",serverApplicationId:""})}},{key:"stopTimers",value:function(){void 0!==this.addTimer&&(window.clearTimeout(this.addTimer),this.addTimer=void 0),void 0!==this.removeTimer&&(window.clearTimeout(this.removeTimer),this.removeTimer=void 0)}}]),t}(n.Component),U=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onWindowResize=function(){a.setState({height:window.innerHeight})},a.state={height:window.innerHeight},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onWindowResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onWindowResize)}},{key:"render",value:function(){return i.a.createElement("section",{className:"bp3-dark"},i.a.createElement("div",{className:"App",style:{minHeight:this.state.height-40}},i.a.createElement(H,null),i.a.createElement("div",{style:{flex:2}}),i.a.createElement("div",{className:"credits",style:{color:h.a.GRAY1}},i.a.createElement("a",{style:{color:h.a.GRAY1,textDecoration:"underline"},href:"https://github.com/rabbitcontrol/",target:"#"},"rcp-ts-client"),"\xa0written by\xa0",i.a.createElement("a",{style:{color:h.a.GRAY1,textDecoration:"underline"},href:"https://ingorandolf.info/",target:"#"},"i-n-g-o"),"\xa0\xa0|\xa0\xa0",i.a.createElement("a",{style:{color:h.a.GRAY1,textDecoration:"underline"},href:"http://rabbitcontrol.cc/",target:"#"},"rabbitControl"),i.a.createElement("br",null),"uses\xa0",i.a.createElement("a",{style:{color:h.a.GRAY1,textDecoration:"underline"},href:"https://blueprintjs.com/",target:"#"},"blueprintjs"))))}}]),t}(i.a.Component);U.VERBOSE_LOG=!1;var X=U;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[164,2,1]]]);
//# sourceMappingURL=main.3c08e7ef.chunk.js.map